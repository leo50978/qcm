<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>VTN Word News — Questionnaire</title>

  <!-- Tailwind -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet">

  <!-- Font Awesome -->
  <script src="https://kit.fontawesome.com/a2d9b1c6f1.js" crossorigin="anonymous"></script>

  <style>
    body { font-family: 'Inter', sans-serif; }
    input[type="radio"], input[type="checkbox"] {
      accent-color: #0f172a;
    }
  </style>
</head>
<body class="bg-gray-50 text-gray-800">
  <main class="max-w-lg mx-auto p-4">
    <header class="mb-6 text-center">
      <i class="fas fa-newspaper fa-2x text-gray-700"></i>
      <h1 class="text-xl font-semibold mt-2">Questionnaire rapide</h1>
      <p class="text-sm text-gray-500">Aidez-nous à mieux comprendre vos besoins</p>
    </header>

    <form id="qcmForm" class="bg-white shadow-md rounded-lg p-4 space-y-5" onsubmit="return handleSubmit(event)">
      
      <!-- Charte graphique -->
      <div>
        <label class="block font-medium mb-2">1) Souhaitez-vous une charte graphique&nbsp;?</label>
        <div class="space-y-2">
          <label class="flex items-center"><input type="radio" name="charte" value="Non" checked class="mr-2">Non</label>
          <label class="flex items-center"><input type="radio" name="charte" value="Couleurs + polices" class="mr-2">Oui, couleurs + polices</label>
          <label class="flex items-center"><input type="radio" name="charte" value="Charte complète" class="mr-2">Oui, charte complète</label>
        </div>
      </div>

      <!-- Style -->
      <div>
        <label class="block font-medium mb-2">2) Style visuel préféré</label>
        <div class="space-y-2">
          <label class="flex items-center"><input type="radio" name="style" value="Classique / sobre" checked class="mr-2">Classique / sobre</label>
          <label class="flex items-center"><input type="radio" name="style" value="Moderne / minimal" class="mr-2">Moderne / minimal</label>
          <label class="flex items-center"><input type="radio" name="style" value="Coloré / dynamique" class="mr-2">Coloré / dynamique</label>
        </div>
      </div>

      <!-- Catégories -->
      <div>
        <label class="block font-medium mb-2">3) Catégories d'articles (plusieurs choix)</label>
        <div class="grid grid-cols-2 gap-2">
          <label class="flex items-center"><input type="checkbox" name="categories" value="Politique" class="mr-2">Politique</label>
          <label class="flex items-center"><input type="checkbox" name="categories" value="Économie" class="mr-2">Économie</label>
          <label class="flex items-center"><input type="checkbox" name="categories" value="Sport" class="mr-2">Sport</label>
          <label class="flex items-center"><input type="checkbox" name="categories" value="Culture" class="mr-2">Culture</label>
          <label class="flex items-center"><input type="checkbox" name="categories" value="International" class="mr-2">International</label>
          <label class="flex items-center"><input type="checkbox" id="catAutre" name="categories" value="Autre" class="mr-2">Autre
          </label>
        </div>
        <input type="text" id="autreTxt" name="categories_autre" placeholder="Précisez..." class="mt-2 hidden w-full p-2 border rounded-md text-sm">
      </div>

      <!-- Contenu -->
      <div>
        <label class="block font-medium mb-2">4) Le contenu initial est-il prêt&nbsp;?</label>
        <div class="space-y-2">
          <label class="flex items-center"><input type="radio" name="contenu" value="Non" checked class="mr-2">Non</label>
          <label class="flex items-center"><input type="radio" name="contenu" value="Oui" class="mr-2">Oui</label>
          <label class="flex items-center"><input type="radio" name="contenu" value="Partiel" class="mr-2">Partiellement</label>
        </div>
      </div>

      <!-- Plateforme -->
      <div>
        <label class="block font-medium mb-2">5) Plateforme préférée</label>
        <select name="plateforme" class="w-full border rounded-md p-2 text-sm">
          <option value="Aucune préférence">Aucune préférence</option>
          <option value="WordPress">WordPress</option>
          <option value="Sur-mesure">Sur-mesure</option>
          <option value="Autre">Autre</option>
        </select>
      </div>

      <!-- Public cible -->
      <div>
        <label class="block font-medium mb-2">6) Public cible</label>
        <div class="space-y-2">
          <label class="flex items-center"><input type="checkbox" name="public" value="Jeunes" class="mr-2">Jeunes (15-30)</label>
          <label class="flex items-center"><input type="checkbox" name="public" value="Adultes" class="mr-2">Adultes (30-60)</label>
          <label class="flex items-center"><input type="checkbox" name="public" value="Seniors" class="mr-2">Seniors (60+)</label>
          <label class="flex items-center"><input type="checkbox" name="public" value="Professionnels" class="mr-2">Professionnels / Experts</label>
        </div>
      </div>

      <!-- Publicités -->
      <div>
        <label class="block font-medium mb-2">7) Publicités dès le départ&nbsp;?</label>
        <div class="space-y-2">
          <label class="flex items-center"><input type="radio" name="ads" value="Oui" checked class="mr-2">Oui</label>
          <label class="flex items-center"><input type="radio" name="ads" value="Non" class="mr-2">Non</label>
        </div>
      </div>

      <!-- Formation -->
      <div>
        <label class="block font-medium mb-2">8) Besoin de formation&nbsp;?</label>
        <div class="space-y-2">
          <label class="flex items-center"><input type="radio" name="formation" value="Oui back-office" checked class="mr-2">Oui, back-office</label>
          <label class="flex items-center"><input type="radio" name="formation" value="Oui réseaux sociaux" class="mr-2">Oui, réseaux sociaux</label>
          <label class="flex items-center"><input type="radio" name="formation" value="Non" class="mr-2">Non</label>
        </div>
      </div>

      <!-- Commentaire -->
      <div>
        <label class="block font-medium mb-2">9) Commentaire (optionnel)</label>
        <textarea name="commentaire" rows="3" class="w-full border rounded-md p-2 text-sm" placeholder="Autres précisions..."></textarea>
      </div>

      <!-- Bouton -->
      <button type="submit" class="w-full flex items-center justify-center gap-2 bg-green-600 hover:bg-green-700 text-white p-3 rounded-md font-medium">
        <i class="fab fa-whatsapp"></i> Envoyer sur WhatsApp
      </button>
    </form>
  </main>

  <script>
    // Afficher le champ "Autre"
    document.getElementById('catAutre').addEventListener('change', function() {
      document.getElementById('autreTxt').classList.toggle('hidden', !this.checked);
    });

    function getRadioValue(name) {
      const radios = document.querySelectorAll(`input[name="${name}"]`);
      for (const r of radios) if (r.checked) return r.value;
      return '';
    }
    function getCheckedValues(name) {
      return Array.from(document.querySelectorAll(`input[name="${name}"]:checked`)).map(e => e.value);
    }

    function handleSubmit(e) {
      e.preventDefault();
      const charte = getRadioValue('charte');
      const style = getRadioValue('style');
      let categories = getCheckedValues('categories');
      const autre = document.querySelector('[name="categories_autre"]').value.trim();
      if (categories.includes('Autre') && autre) {
        categories[categories.indexOf('Autre')] = "Autre: " + autre;
      }
      const contenu = getRadioValue('contenu');
      const plateforme = document.querySelector('[name="plateforme"]').value;
      const publicCible = getCheckedValues('public');
      const ads = getRadioValue('ads');
      const formation = getRadioValue('formation');
      const commentaire = document.querySelector('[name="commentaire"]').value.trim();

      let msg = `VTN Word News - Réponses:%0A`;
      msg += `Charte graphique: ${charte}%0A`;
      msg += `Style: ${style}%0A`;
      msg += `Catégories: ${categories.join(', ') || 'Non précisé'}%0A`;
      msg += `Contenu prêt: ${contenu}%0A`;
      msg += `Plateforme: ${plateforme}%0A`;
      msg += `Public cible: ${publicCible.join(', ') || 'Non précisé'}%0A`;
      msg += `Publicités: ${ads}%0A`;
      msg += `Formation: ${formation}%0A`;
      if (commentaire) msg += `Commentaire: ${encodeURIComponent(commentaire)}%0A`;

      window.open(`https://wa.me/50935601379?text=${encodeURI(msg)}`, '_blank');
    }
  </script>
</body>
</html>
